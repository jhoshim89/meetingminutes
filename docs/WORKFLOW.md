# νμλ΅ μƒμ„± μ›ν¬ν”λ΅μ°

νμ μμ„± νμΌμ„ μλ™μΌλ΅ μ „μ‚¬ν•κ³ , μ”μ•½ν•μ—¬ νμλ΅ λ¬Έμ„λ¥Ό μƒμ„±ν•λ” μ‹μ¤ν…μ…λ‹λ‹¤.

---

## π“ μ „μ²΄ μ•„ν‚¤ν…μ²

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                         νμλ΅ μƒμ„± νμ΄ν”„λΌμΈ                          β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                                                                     β”‚
β”‚  π¤ μ¤λ””μ¤ νμΌ                                                      β”‚
β”‚       β”‚                                                             β”‚
β”‚       β–Ό                                                             β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                                                   β”‚
β”‚  β”‚  WhisperX    β”‚ STT (μμ„±β†’ν…μ¤νΈ)                                  β”‚
β”‚  β”‚ large-v3-   β”‚ - VAD μμ„± κ°μ§€                                    β”‚
β”‚  β”‚   turbo     β”‚ - ν•κµ­μ–΄ μ „μ‚¬                                       β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”                                                   β”‚
β”‚         β”‚                                                           β”‚
β”‚         β–Ό                                                           β”‚
β”‚  π“ μ „μ‚¬λ³Έ (.txt)                                                    β”‚
β”‚         β”‚                                                           β”‚
β”‚    β”β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”                                                      β”‚
β”‚    β”‚         β”‚                                                      β”‚
β”‚    β–Ό         β–Ό                                                      β”‚
β”‚ β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                                  β”‚
β”‚ β”‚   Natural    β”‚  β”‚  Summarizer  β”‚                                  β”‚
β”‚ β”‚  Summarizer  β”‚  β”‚  (κµ¬μ΅°ν™”μ©)   β”‚                                  β”‚
β”‚ β”‚ (λΉ„κµ¬μ΅°ν™”μ©)  β”‚  β”‚              β”‚                                  β”‚
β”‚ β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”  β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”                                  β”‚
β”‚        β”‚                  β”‚                                         β”‚
β”‚        β–Ό                  β–Ό                                         β”‚
β”‚  π“‹ μμ—° μ”μ•½          π“‹ κµ¬μ΅°ν™” μ”μ•½                                  β”‚
β”‚  (ν΄λ΅λ°”λ…ΈνΈ)         (ν„ν™©/λ…Όμ/κ²°μ)                                  β”‚
β”‚        β”‚                  β”‚                                         β”‚
β”‚        β””β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                                         β”‚
β”‚                 β”‚                                                   β”‚
β”‚                 β–Ό                                                   β”‚
β”‚         β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                                            β”‚
β”‚         β”‚ νμλ΅ JSON   β”‚                                            β”‚
β”‚         β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”                                            β”‚
β”‚                β”‚                                                    β”‚
β”‚                β–Ό                                                    β”‚
β”‚         β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                                            β”‚
β”‚         β”‚  docx-js     β”‚ Node.js DOCX μƒμ„±κΈ°                         β”‚
β”‚         β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”                                            β”‚
β”‚                β”‚                                                    β”‚
β”‚                β–Ό                                                    β”‚
β”‚         π“„ νμλ΅.docx                                               β”‚
β”‚                                                                     β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

## π”§ μ£Όμ” μ»΄ν¬λ„νΈ

### 1. STT μ—”μ§„ (whisperx_engine.py)

| ν•­λ© | μ„¤λ… |
|------|------|
| λ¨λΈ | WhisperX large-v3-turbo |
| μ—­ν•  | μ¤λ””μ¤ β†’ νƒ€μ„μ¤νƒ¬ν”„ ν¬ν•¨ μ „μ‚¬λ³Έ |
| VAD | pyannote μμ„± κ°μ§€ (onset=0.5) |

```python
from whisperx_engine import WhisperXEngine

engine = WhisperXEngine(model_name="large-v3-turbo")
result = engine.transcribe("audio.m4a")
```

### 2. μμ—° μ”μ•½κΈ° (natural_summarizer.py)

| ν•­λ© | μ„¤λ… |
|------|------|
| λ¨λΈ | EXAONE 3.5 (7.8B) via Ollama |
| λ°©μ‹ | Map-Reduce μ²­ν¬ μ”μ•½ |
| μ©λ„ | λΉ„κµ¬μ΅°ν™” νμ (μμ  ν† λ΅ , λΈλ μΈμ¤ν† λ°) |

**μ¶λ ¥ ν•μ‹ (ν΄λ΅λ°”λ…ΈνΈ μ¤νƒ€μΌ):**
```
μ£Όμ” μ£Όμ 
- μ£Όμ  1
- μ£Όμ  2

λ‹¤μ ν•  μΌ
- μ•΅μ… μ•„μ΄ν… 1
- μ•΅μ… μ•„μ΄ν… 2

λ‹¨λ½λ³„ μ”μ•½
00:00 ~ 05:00
** μ²« λ²μ§Έ μ£Όμ 
- ν¬μΈνΈ 1
- ν¬μΈνΈ 2
```

### 3. κµ¬μ΅°ν™” μ”μ•½κΈ° (summarizer.py)

| ν•­λ© | μ„¤λ… |
|------|------|
| λ¨λΈ | EXAONE 3.5 via Ollama |
| λ°©μ‹ | Map-Reduce + μΉ΄ν…κ³ λ¦¬ μ¶”μ¶ |
| μ©λ„ | κµ¬μ΅°ν™” νμ (ν•™κ³Όνμ, μ„μ›ν λ“±) |

**μΉ΄ν…κ³ λ¦¬:**
- ν„ν™©: ν„μ¬ μƒνƒ, μ§„ν–‰ μƒν™©
- λ°°κ²½: λ§¥λ½, μ΄μ , νμ¤ν† λ¦¬
- λ…Όμ: ν† λ΅ , κ²€ν† , μκ²¬ κµν™
- λ¬Έμ μ : μ΄μ, μ¥μ• λ¬Ό
- μκ²¬: μ μ•, μ•„μ΄λ””μ–΄
- κ²°μ: κ²°μ •μ‚¬ν•­, ν•©μ

### 4. DOCX μƒμ„±κΈ° (generate_minutes_docx.js)

| ν•­λ© | μ„¤λ… |
|------|------|
| λΌμ΄λΈλ¬λ¦¬ | docx-js (Node.js) |
| ν…ν”λ¦Ώ | sampledata_minutes.docx ν•μ‹ |
| μ…λ ¥ | νμλ΅ JSON |
| μ¶λ ¥ | κ³µμ‹ νμλ΅ DOCX |

---

## π“ νμΌ κµ¬μ΅°

```
pc_worker/
β”β”€β”€ meeting_pipeline.py      # π”¥ ν†µν•© νμ΄ν”„λΌμΈ (λ©”μΈ μ§„μ…μ )
β”β”€β”€ whisperx_engine.py       # STT μ—”μ§„
β”β”€β”€ natural_summarizer.py    # λΉ„κµ¬μ΅°ν™” νμ μ”μ•½κΈ°
β”β”€β”€ summarizer.py            # κµ¬μ΅°ν™” νμ μ”μ•½κΈ°
β”β”€β”€ generate_minutes_docx.js # DOCX μƒμ„± (Node.js)
β””β”€β”€ config.py                # μ„¤μ •
```

---

## π€ μ‚¬μ© λ°©λ²•

### λ°©λ²• 1: ν†µν•© νμ΄ν”„λΌμΈ (κ¶μ¥)

μ¤λ””μ¤ νμΌ ν•λ‚λ΅ μ „μ²΄ μ²λ¦¬:

```bash
# μ „μ²΄ μ¶λ ¥ (μ „μ‚¬λ³Έ + μ”μ•½ + JSON + DOCX)
python meeting_pipeline.py ../data/νμ.m4a

# μ”μ•½λ§
python meeting_pipeline.py ../data/νμ.m4a -f summary

# νμλ΅ DOCXλ§
python meeting_pipeline.py ../data/νμ.m4a -f docx

# λ©”νƒ€λ°μ΄ν„° μ§€μ •
python meeting_pipeline.py ../data/νμ.m4a \
  --department "μμκ³Όλ€ν•™" \
  --location "κµμνμμ‹¤" \
  --organizer "ν•™μ¥"
```

### λ°©λ²• 2: λ‹¨κ³„λ³„ μ‹¤ν–‰

#### Step 1: STT (μ¤λ””μ¤ β†’ μ „μ‚¬λ³Έ)

```bash
python -c "
from whisperx_engine import WhisperXEngine
engine = WhisperXEngine()
result = engine.transcribe('../data/νμ.m4a')
"
```

#### Step 2-A: μμ—° μ”μ•½ (λΉ„κµ¬μ΅°ν™” νμ)

```bash
# ν΄λ΅λ°”λ…ΈνΈ μ¤νƒ€μΌ μ”μ•½
python natural_summarizer.py ../data/νμ_μ „μ‚¬λ³Έ.txt

# DOCX μ§μ ‘ μƒμ„±
python natural_summarizer.py ../data/νμ_μ „μ‚¬λ³Έ.txt -f docx
```

#### Step 2-B: κµ¬μ΅°ν™” μ”μ•½ (ν•™κ³Όνμ λ“±)

```python
from summarizer import OllamaSummarizer
from models import TranscriptSegment

summarizer = OllamaSummarizer()
segments = [TranscriptSegment(...), ...]
summary = await summarizer.summarize(segments)
```

#### Step 3: DOCX μƒμ„±

```bash
node generate_minutes_docx.js νμλ΅.json νμλ΅.docx
```

---

## π“‹ νμλ΅ JSON ν•μ‹

`generate_minutes_docx.js`κ°€ λ°›λ” JSON ν•μ‹:

```json
{
  "title": "ν  μ  λ΅",
  "docNumber": "NO 2026-01",
  "department": "μμκ³Όλ€ν•™",
  "location": "κµμνμμ‹¤",
  "datetime": "2026λ…„ 1μ›” 15μΌ 11μ‹",
  "organizer": "ν•™μ¥",
  "agendaSummary": [
    "μ•κ±΄ 1 μ λ©",
    "μ•κ±΄ 2 μ λ©"
  ],
  "agendaDetails": [
    {
      "title": "μ•κ±΄ 1 μ λ©",
      "items": [
        { "label": "ν„ν™©", "content": "ν„μ¬ μƒν™© μ„¤λ…" },
        { "label": "λ…Όμ", "content": "ν† λ΅  λ‚΄μ©" },
        { "label": "κ²°μ", "content": "κ²°μ • μ‚¬ν•­" }
      ]
    }
  ],
  "attendees": "ν™κΈΈλ™, κΉ€μ² μ, μ΄μν¬",
  "attendeeCount": "μ΄ 3λ…",
  "absentees": "μ¶μ¥: λ°•λ―Όμ",
  "absenteeCount": "μ΄ 1λ…"
}
```

---

## π”„ λ‘ κ°€μ§€ νμ μ ν•

| νμ μ ν• | μ”μ•½κΈ° | νΉμ§• | μμ‹ |
|----------|--------|------|------|
| **κµ¬μ΅°ν™” νμ** | summarizer.py | ν„ν™©β†’λ…Όμβ†’κ²°μ ν•μ‹ | ν•™κ³Όνμ, μ„μ›ν, μ •κΈ°νμ |
| **λΉ„κµ¬μ΅°ν™” νμ** | natural_summarizer.py | μμ—°μ¤λ¬μ΄ νλ¦„ | λΈλ μΈμ¤ν† λ°, μμ  ν† λ΅ , λ©΄λ‹΄ |

### κµ¬μ΅°ν™” νμ μμ‹

```
1. κµν•™μ„μ›ν κµ¬μ„± λ³€κ²½
   ν„ν™©: ν„ μ§‘ν–‰λ¶€ κµ¬μ„± - ν•™μ¥, κµν•™λ¶€ν•™μ¥ λ“± 7μΈ
   λ…Όμ: μ κ΄€κΈ°κ΄€μ¥ 3μΈ μ¶”κ°€ κ²€ν† 
   κ²°μ: μκ²¬ μλ ΄ ν›„ μ§„ν–‰ μμ •
```

### λΉ„κµ¬μ΅°ν™” νμ μμ‹

```
μ£Όμ” μ£Όμ 
- λ™λ¬Όλ³‘μ› κ±΄λ¦½ μ§€μ—°
- μ‚¬μ—… μ‹ μ²­ λ° λ‚΄λ¶€ μ΅°μ¨ ν•„μ”μ„±

λ‹¨λ½λ³„ μ”μ•½
00:08 ~ 07:18
** λ™λ¬Όλ³‘μ› κ±΄λ¦½ μ§„ν–‰ μƒν™©
- κΈ°μμ¬ ν™•λ³΄ μ§€μ—°μΌλ΅ μ¤ν” μ–΄λ ¤μ›€
- λ―Όμμ‚¬μ—… ν•νƒλ΅ μ΄μ
```

---

## β™οΈ μ„¤μ •

### Ollama λ¨λΈ μ„¤μ •

```bash
# EXAONE 3.5 μ„¤μΉ (κ¶μ¥)
ollama pull exaone3.5:7.8b

# Ollama μ„λ²„ μ‹¤ν–‰
ollama serve
```

### Node.js μμ΅΄μ„±

```bash
cd pc_worker
npm install docx
```

### Python μμ΅΄μ„±

```bash
pip install -r requirements.txt
```

---

## π“ μ„±λ¥ μ°Έκ³ 

| λ‹¨κ³„ | μ†μ” μ‹κ°„ (40λ¶„ μμ„± κΈ°μ¤€) |
|------|---------------------------|
| STT (WhisperX) | ~3-5λ¶„ (GPU) |
| LLM μ”μ•½ | ~1-2λ¶„ |
| DOCX μƒμ„± | ~1μ΄ |
| **μ΄ν•©** | **~5-7λ¶„** |

---

## π› λ¬Έμ  ν•΄κ²°

### Q: VAD μ¤λ¥ λ°μƒ

```
pyannote λ²„μ „ λ¶μΌμΉ λ¬Έμ 
β†’ VAD onset=0.5 (κΈ°λ³Έκ°’) μ‚¬μ© κ¶μ¥
β†’ μ΅°μ©ν• μ¤λ””μ¤λ” 0.3 ν…μ¤νΈ
```

### Q: EXAONEμ΄ ν•μ‹μ„ λ”°λ¥΄μ§€ μ•μ

```
Map-Reduce λ°©μ‹ ν•„μ
β†’ μ²­ν¬ λ‹¨μ„λ΅ λ‚λ μ„ μ”μ•½ ν›„ ν†µν•©
β†’ λ‹¨μΌ ν”„λ΅¬ν”„νΈλ΅λ” ν•μ‹ μ¤€μ μ–΄λ ¤μ›€
```

### Q: DOCX μƒμ„± μ‹¤ν¨

```
Node.js μ„¤μΉ ν™•μΈ: node --version
docx ν¨ν‚¤μ§€ μ„¤μΉ: npm install docx
```

---

## π“‚ μ¶λ ¥ μμ‹

νμ΄ν”„λΌμΈ μ‹¤ν–‰ ν›„ μƒμ„±λλ” νμΌ:

```
data/
β”β”€β”€ νμ.m4a              # μ›λ³Έ μ¤λ””μ¤
β”β”€β”€ νμ_μ „μ‚¬λ³Έ.txt        # STT κ²°κ³Ό
β”β”€β”€ νμ_μ”μ•½.txt          # μμ—° μ”μ•½ (ν΄λ΅λ°”λ…ΈνΈ μ¤νƒ€μΌ)
β”β”€β”€ νμ_νμλ΅.json       # νμλ΅ λ°μ΄ν„°
β””β”€β”€ νμ_νμλ΅.docx       # κ³µμ‹ νμλ΅ λ¬Έμ„
```

---

*λ§μ§€λ§‰ μ—…λ°μ΄νΈ: 2026-01-18*
